<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/public/css/landing.css">
</head>
<body>
  <section class="hero-slider">
    <div class="hero-slide active" style="background-image: url('/public/img/banner1.png');">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <div class="hero-header">
          <a class="logo-link" href="/">
            <img src="/public/img/saoclao.png" alt="SAOCLAO" class="logo-img">
          </a>
          <div class="auth-buttons">
            <a href="/login" class="btn outline">Đăng nhập</a>
            <a href="/signup" class="btn primary">Đăng ký</a>
          </div>
        </div>
        <div class="hero-main">
          <h1>Khám phá.<br>Được khám phá.</h1>
          <p>Nơi nghệ sĩ và người nghe gặp nhau</p>
          <a href="/upload" class="btn primary">Bắt đầu ngay</a>
        </div>
        <div class="hero-footer">
          <div class="slider-dots">
            <span class="dot active" data-slide="0"></span>
            <span class="dot" data-slide="1"></span>
            <span class="dot" data-slide="2"></span>
          </div>
          <div class="artist-credit">
            <span class="name">No Beat Battler</span>
            <span class="title">Phan Quyen</span>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-slide" style="background-image: url('/public/img/banner2.png');">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <div class="hero-header">
          <a class="logo-link" href="/">
            <img src="/public/img/saoclao.png" alt="SAOCLAO" class="logo-img">
          </a>
          <div class="auth-buttons">
            <a href="/login" class="btn outline">Đăng nhập</a>
            <a href="/signup" class="btn primary">Đăng ký</a>
          </div>
        </div>
        <div class="hero-main">
          <h1>Chia sẻ âm nhạc.<br>Xây dựng fanbase.</h1>
          <p>Tiếp cận hàng triệu người nghe</p>
          <a href="/upload" class="btn primary">Upload ngay</a>
        </div>
        <div class="hero-footer">
          <div class="slider-dots">
            <span class="dot" data-slide="0"></span>
            <span class="dot active" data-slide="1"></span>
            <span class="dot" data-slide="2"></span>
          </div>
          <div class="artist-credit">
            <span class="name">Indie Artist</span>
            <span class="title">SAOCLAO Community</span>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-slide" style="background-image: url('/public/img/banner3.png');">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <div class="hero-header">
          <a class="logo-link" href="/">
            <img src="/public/img/saoclao.png" alt="SAOCLAO" class="logo-img">
          </a>
          <div class="auth-buttons">
            <a href="/login" class="btn outline">Đăng nhập</a>
            <a href="/signup" class="btn primary">Đăng ký</a>
          </div>
        </div>
        <div class="hero-main">
          <h1>Kết nối.<br>Qua âm nhạc.</h1>
          <p>Cộng đồng yêu nhạc Việt</p>
          <a href="/" class="btn primary">Khám phá</a>
        </div>
        <div class="hero-footer">
          <div class="slider-dots">
            <span class="dot" data-slide="0"></span>
            <span class="dot" data-slide="1"></span>
            <span class="dot active" data-slide="2"></span>
          </div>
          <div class="artist-credit">
            <span class="name">Music Lover</span>
            <span class="title">SAOCLAO Fan</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    <section class="search-section">
      <h2>Hear what's trending for free in the SoundCloud community</h2>
      <div class="search-box">
        <input type="text" placeholder="Search for artists, bands, tracks, podcasts" id="searchInput">
      </div>
      <div class="or">or</div>
      <a href="/upload" class="btn primary">Upload your own</a>
    </section>

    <section>
      <div class="trending-header">
        <h2>Trending</h2>
      </div>
      <div class="cards">
        <% 
  // Chỉ hiển thị 5 bài ngẫu nhiên
  const displayTracks = (tracks || []).sort(() => 0.5 - Math.random()).slice(0, 5);
  displayTracks.forEach(t => { const cover = t.coverUrl || 'https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=400'; 
        %>
          <a href="/login" class="card">
            <div class="thumb-wrapper">
              <div class="thumb" style="background-image:url('<%= cover %>');"></div>
              <div class="play-overlay">
                <div class="play-icon"></div>
              </div>
            </div>
            <div class="meta">
              <div class="title"><%= t.title %></div>
              <div class="artist"><%= t.artist || 'Unknown Artist' %></div>
            </div>
          </a>
        <% }) %>
      </div>
      <% if (!tracks || tracks.length===0) { %>
        <div class="empty-state">
          <p style="font-size: 18px; margin-bottom: 12px;">Chưa có bài nào.</p>
          <p>Hãy <a href="/upload">upload</a> bài đầu tiên.</p>
        </div>
      <% } %>
    </section>
  </div>

  <canvas id="snow-layer"></canvas>
  <script src="/public/js/canvas.js"></script>
  <script src="/public/js/slider.js"></script>
</body>
</html>

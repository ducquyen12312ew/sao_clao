<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title || 'Sign in - SAOCLAO' %></title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/public/css/login.css">
</head>
<body>
  <!-- Musical notes floating -->
  <div class="note">♪</div>
  <div class="note">♫</div>
  <div class="note">♪</div>
  <div class="note">♫</div>
  <div class="note">♪</div>
  
  <!-- Sound wave at bottom -->
  <div class="soundwave">
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
    <div class="wave-bar"></div>
  </div>
  
  <header class="header">
    <a class="logo-link" href="/">
      <img src="/public/img/saoclao.png" alt="SAOCLAO" class="logo-img">
    </a>
    <a class="btn outline" href="/signup">Create account</a>
  </header>
  
  <% if (flash) { %>
    <div class="flash <%= flash.type %>"><%= flash.message %></div>
    <script>setTimeout(() => { document.querySelector('.flash')?.classList.add('hide'); }, 2500);</script>
  <% } %>
  
  <main class="container">
    <div class="auth-card">
      <h2>Welcome back</h2>
      <p class="subtitle">Sign in to continue to SAOCLAO</p>
      
      <form method="post" action="/login">
        <div class="input-group">
          <label>Email or Username</label>
          <input 
            name="identifier" 
            required 
            placeholder="you@example.com" 
            autocomplete="username"
          >
        </div>
        
        <div class="input-group">
          <label>Password</label>
          <input 
            type="password" 
            name="password" 
            required 
            minlength="8" 
            placeholder="Enter your password" 
            autocomplete="current-password"
          >
        </div>

        <a href="/forgot-password" class="forgot">Forgot password?</a>
        
        <button class="btn primary" type="submit">Sign in</button>
      </form>
      
      <% if (oauthProviders && oauthProviders.google) { %>
        <div class="divider">or</div>
        <div class="social-grid">
          <a class="btn outline social" href="/auth/google">
            <span class="google-icon">G</span> <span>Continue with Google</span>
          </a>
        </div>
      <% } %>
      
      <p class="muted">Don't have an account? <a href="/signup">Create one</a></p>
    </div>
  </main>
</body>
</html>
